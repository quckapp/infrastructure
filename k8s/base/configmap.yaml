# =============================================================================
# QUCKAPP COMMON CONFIGURATION
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: quckapp-common-config
  namespace: quckapp
  labels:
    app.kubernetes.io/name: quckapp
    app.kubernetes.io/component: config
data:
  # Environment
  ENVIRONMENT: "dev"
  NODE_ENV: "development"

  # Logging
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"
  LOG_PRETTY: "false"

  # CORS (override per environment)
  CORS_ORIGIN: "http://localhost:3000"

  # Service Discovery
  SERVICE_MESH_ENABLED: "false"

  # Health Check
  HEALTH_CHECK_PATH: "/health"
  READINESS_PATH: "/ready"
  LIVENESS_PATH: "/live"
---
# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: quckapp-database-config
  namespace: quckapp
  labels:
    app.kubernetes.io/name: quckapp
    app.kubernetes.io/component: database-config
data:
  # MongoDB
  MONGODB_HOST: "mongodb.quckapp.svc.cluster.local"
  MONGODB_PORT: "27017"
  MONGODB_DATABASE: "quckapp"

  # MySQL
  MYSQL_HOST: "mysql.quckapp.svc.cluster.local"
  MYSQL_PORT: "3306"
  MYSQL_DATABASE: "quckapp"

  # PostgreSQL
  POSTGRES_HOST: "postgres.quckapp.svc.cluster.local"
  POSTGRES_PORT: "5432"
  POSTGRES_DATABASE: "quckapp"

  # Redis
  REDIS_HOST: "redis.quckapp.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_DB: "0"

  # Elasticsearch
  ELASTICSEARCH_HOST: "elasticsearch.quckapp.svc.cluster.local"
  ELASTICSEARCH_PORT: "9200"
---
# =============================================================================
# MESSAGE BROKER CONFIGURATION
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: quckapp-broker-config
  namespace: quckapp
  labels:
    app.kubernetes.io/name: quckapp
    app.kubernetes.io/component: broker-config
data:
  # Kafka
  KAFKA_BROKERS: "kafka.quckapp.svc.cluster.local:9092"
  KAFKA_CLIENT_ID: "quckapp"
  KAFKA_GROUP_ID: "quckapp-consumers"

  # RabbitMQ
  RABBITMQ_HOST: "rabbitmq.quckapp.svc.cluster.local"
  RABBITMQ_PORT: "5672"
  RABBITMQ_VHOST: "quckapp"
---
# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: quckapp-monitoring-config
  namespace: quckapp
  labels:
    app.kubernetes.io/name: quckapp
    app.kubernetes.io/component: monitoring-config
data:
  # OpenTelemetry
  OTEL_ENABLED: "true"
  OTEL_SERVICE_NAME: "quckapp"
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.monitoring.svc.cluster.local:4317"
  OTEL_TRACES_SAMPLER: "parentbased_traceidratio"
  OTEL_TRACES_SAMPLER_ARG: "0.1"

  # Prometheus
  PROMETHEUS_ENABLED: "true"
  PROMETHEUS_PORT: "9090"
  PROMETHEUS_PATH: "/metrics"

  # Sentry
  SENTRY_ENVIRONMENT: "dev"
  SENTRY_TRACES_SAMPLE_RATE: "0.1"
---
# =============================================================================
# JWT CONFIGURATION
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: quckapp-jwt-config
  namespace: quckapp
  labels:
    app.kubernetes.io/name: quckapp
    app.kubernetes.io/component: jwt-config
data:
  JWT_ALGORITHM: "HS256"
  JWT_EXPIRES_IN: "1h"
  JWT_REFRESH_EXPIRES_IN: "7d"
  JWT_ISSUER: "quckapp"
  JWT_AUDIENCE: "quckapp-api"
---
# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: quckapp-storage-config
  namespace: quckapp
  labels:
    app.kubernetes.io/name: quckapp
    app.kubernetes.io/component: storage-config
data:
  STORAGE_MODE: "azure"
  AZURE_STORAGE_CONTAINER: "quckapp-media"
  MAX_FILE_SIZE: "104857600"  # 100MB
  ALLOWED_FILE_TYPES: "image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm,application/pdf"
  THUMBNAIL_SIZES: "64,128,256,512"
