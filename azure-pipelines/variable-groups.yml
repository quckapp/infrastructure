# =============================================================================
# Azure DevOps Variable Groups Reference
# =============================================================================
# Organization: AtomiverX
# Project:      QuckApp
# Portal:       https://dev.azure.com/AtomiverX/QuckApp
#
# This file documents the variable groups needed in Azure DevOps.
# Create these manually in Azure DevOps > Pipelines > Library.
# =============================================================================

# -----------------------------------------------------------------------------
# Spring Boot Variables
# Variable Group: QuckApp-SpringBoot-Variables
# -----------------------------------------------------------------------------
# variables:
#   javaVersion: '21'
#   mavenVersion: '3.9.5'
#   springProfile: '$(environment)'
#   jvmOpts: '-Xms256m -Xmx512m'

# -----------------------------------------------------------------------------
# NestJS Variables
# Variable Group: QuckApp-NestJS-Variables
# -----------------------------------------------------------------------------
# variables:
#   nodeVersion: '20'
#   npmVersion: '10'
#   nestCliVersion: '10'

# -----------------------------------------------------------------------------
# Elixir Variables
# Variable Group: QuckApp-Elixir-Variables
# -----------------------------------------------------------------------------
# variables:
#   elixirVersion: '1.15'
#   otpVersion: '26'
#   mixEnv: 'prod'
#   erlVmArgs: '+P 1000000 +Q 65536'

# -----------------------------------------------------------------------------
# Go Variables
# Variable Group: QuckApp-Go-Variables
# -----------------------------------------------------------------------------
# variables:
#   goVersion: '1.21'
#   goPrivate: 'github.com/quckapp/*'
#   cgoEnabled: '0'

# -----------------------------------------------------------------------------
# Python Variables
# Variable Group: QuckApp-Python-Variables
# -----------------------------------------------------------------------------
# variables:
#   pythonVersion: '3.11'
#   pipVersion: '23.3'
#   uvicornWorkers: '4'

# =============================================================================
# TERRAFORM INFRASTRUCTURE VARIABLES
# =============================================================================

# -----------------------------------------------------------------------------
# Terraform Common Variables
# Variable Group: quckapp-terraform-common
# Used by: terraform-cd.yml, terraform-promote.yml
# -----------------------------------------------------------------------------
# variables:
#   # Azure Service Connection
#   azureServiceConnection: 'quckapp-azure-connection'
#
#   # Terraform State Backend
#   tfStateResourceGroup: 'rg-quckapp-tfstate'
#   tfStateStorageAccount: 'stquckapptfstate'
#   tfStateContainer: 'tfstate'
#
#   # Terraform Version
#   terraformVersion: '1.5.7'
#
#   # Azure Subscription (optional override)
#   # azureSubscriptionId: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'

# -----------------------------------------------------------------------------
# Terraform Dev Environment
# Variable Group: quckapp-terraform-dev
# -----------------------------------------------------------------------------
# variables:
#   environment: 'dev'
#   tfStateKey: 'quckapp.tfstate'
#   location: 'eastus'
#   aksEnabled: 'true'
#   acrEnabled: 'true'
#   keyvaultEnabled: 'true'
#   enablePrivateEndpoints: 'false'
#   enableMonitoring: 'true'

# -----------------------------------------------------------------------------
# Terraform QA Environment
# Variable Group: quckapp-terraform-qa
# -----------------------------------------------------------------------------
# variables:
#   environment: 'qa'
#   tfStateKey: 'quckapp-qa.tfstate'
#   location: 'eastus'
#   aksEnabled: 'true'
#   acrEnabled: 'true'
#   keyvaultEnabled: 'true'
#   enablePrivateEndpoints: 'false'
#   enableMonitoring: 'true'

# -----------------------------------------------------------------------------
# Terraform Staging Environment
# Variable Group: quckapp-terraform-staging
# -----------------------------------------------------------------------------
# variables:
#   environment: 'staging'
#   tfStateKey: 'quckapp-staging.tfstate'
#   location: 'eastus'
#   aksEnabled: 'true'
#   acrEnabled: 'true'
#   keyvaultEnabled: 'true'
#   enablePrivateEndpoints: 'true'
#   enableMonitoring: 'true'
#   aksSkuTier: 'Standard'
#   acrSku: 'Standard'

# -----------------------------------------------------------------------------
# Terraform Production Environment
# Variable Group: quckapp-terraform-prod
# -----------------------------------------------------------------------------
# variables:
#   environment: 'prod'
#   tfStateKey: 'quckapp-prod.tfstate'
#   location: 'eastus'
#   aksEnabled: 'true'
#   acrEnabled: 'true'
#   keyvaultEnabled: 'true'
#   enablePrivateEndpoints: 'true'
#   enableMonitoring: 'true'
#   aksSkuTier: 'Standard'
#   acrSku: 'Premium'
#   keyvaultSku: 'premium'
#   keyvaultPurgeProtection: 'true'

# =============================================================================
# KUBERNETES DEPLOYMENT VARIABLES
# =============================================================================

# -----------------------------------------------------------------------------
# Kubernetes Common Variables
# Variable Group: quckapp-kubernetes-common
# Used by: kubernetes-cd.yml, kubernetes-promote.yml
# -----------------------------------------------------------------------------
# variables:
#   # Azure Container Registry
#   acrName: 'quckapp'
#   acrLoginServer: 'quckapp.azurecr.io'
#
#   # Default image tag strategy
#   defaultImageTag: 'latest'
#
#   # Kustomize version
#   kustomizeVersion: '5.0.0'
#
#   # Deployment timeout (seconds)
#   deploymentTimeout: '600'
#
#   # Health check configuration
#   healthCheckEndpoint: '/health'
#   healthCheckTimeout: '300'

# -----------------------------------------------------------------------------
# Kubernetes Non-Production Variables
# Variable Group: quckapp-kubernetes-nonprod
# Used for: dev, qa environments
# -----------------------------------------------------------------------------
# variables:
#   # Resource limits (reduced for non-prod)
#   defaultCpuRequest: '50m'
#   defaultMemoryRequest: '128Mi'
#   defaultCpuLimit: '500m'
#   defaultMemoryLimit: '512Mi'
#
#   # Replica defaults
#   defaultMinReplicas: '1'
#   defaultMaxReplicas: '3'
#
#   # Auto-scaling thresholds
#   cpuTargetUtilization: '80'
#   memoryTargetUtilization: '85'

# -----------------------------------------------------------------------------
# Kubernetes Pre-Production Variables
# Variable Group: quckapp-kubernetes-preprod
# Used for: uat1, uat2, uat3, staging environments
# -----------------------------------------------------------------------------
# variables:
#   # Resource limits (moderate)
#   defaultCpuRequest: '100m'
#   defaultMemoryRequest: '256Mi'
#   defaultCpuLimit: '1000m'
#   defaultMemoryLimit: '1Gi'
#
#   # Replica defaults
#   defaultMinReplicas: '2'
#   defaultMaxReplicas: '8'
#
#   # Auto-scaling thresholds
#   cpuTargetUtilization: '70'
#   memoryTargetUtilization: '80'

# -----------------------------------------------------------------------------
# Kubernetes Production Variables
# Variable Group: quckapp-kubernetes-prod
# Used for: prod, live environments
# -----------------------------------------------------------------------------
# variables:
#   # Resource limits (production)
#   defaultCpuRequest: '200m'
#   defaultMemoryRequest: '512Mi'
#   defaultCpuLimit: '2000m'
#   defaultMemoryLimit: '2Gi'
#
#   # Replica defaults
#   defaultMinReplicas: '3'
#   defaultMaxReplicas: '20'
#
#   # Auto-scaling thresholds
#   cpuTargetUtilization: '60'
#   memoryTargetUtilization: '70'
#
#   # Production-specific settings
#   enablePodDisruptionBudget: 'true'
#   minAvailable: '2'
#   enableTopologySpread: 'true'

# -----------------------------------------------------------------------------
# AKS Service Connections
# Create these service connections in Azure DevOps:
# Project Settings > Service connections > New service connection > Kubernetes
# -----------------------------------------------------------------------------
# Service Connections:
#   - quckapp-aks-dev       (AKS cluster for dev)
#   - quckapp-aks-qa        (AKS cluster for qa)
#   - quckapp-aks-uat       (AKS cluster for uat1, uat2, uat3)
#   - quckapp-aks-staging   (AKS cluster for staging)
#   - quckapp-aks-prod      (AKS cluster for prod, live)
#
# To create a Kubernetes service connection:
# 1. Go to Project Settings > Service connections
# 2. Click "New service connection"
# 3. Select "Kubernetes"
# 4. Choose authentication method:
#    - Azure Subscription (recommended for AKS)
#    - Service Account
#    - Kubeconfig
# 5. Select your AKS cluster
# 6. Name the connection (e.g., quckapp-aks-dev)
# 7. Grant access permission to all pipelines

# =============================================================================
# CI/CD BUILD VARIABLES
# =============================================================================

# -----------------------------------------------------------------------------
# CI Common Variables
# Variable Group: quckapp-ci-common
# Used by: ci-main.yml, pr-validation.yml, docker-ci.yml
# -----------------------------------------------------------------------------
# variables:
#   # Azure Container Registry
#   acrName: 'quckapp'
#   acrLoginServer: 'quckapp.azurecr.io'
#   acrServiceConnection: 'quckapp-acr-connection'
#   ACR_LOGIN_SERVER: 'quckapp.azurecr.io'
#
#   # Build defaults
#   defaultImageTag: 'latest'
#   buildTimeout: '60'
#
#   # Security scanning
#   trivySeverity: 'HIGH,CRITICAL'
#   scanTimeout: '300'
#
#   # Caching
#   enableCaching: 'true'
#
#   # CI Pipeline Settings
#   ciPipelineEnabled: 'true'
#   prValidationEnabled: 'true'
#   buildOnlyChanged: 'true'

# -----------------------------------------------------------------------------
# Spring Boot Build Variables
# Variable Group: quckapp-ci-springboot
# -----------------------------------------------------------------------------
# variables:
#   javaVersion: '21'
#   mavenVersion: '3.9.5'
#   mavenOpts: '-Xmx1024m'
#   springBootVersion: '3.2.0'

# -----------------------------------------------------------------------------
# NestJS Build Variables
# Variable Group: quckapp-ci-nestjs
# -----------------------------------------------------------------------------
# variables:
#   nodeVersion: '20'
#   npmVersion: '10'
#   nestCliVersion: '10'

# -----------------------------------------------------------------------------
# Go Build Variables
# Variable Group: quckapp-ci-go
# -----------------------------------------------------------------------------
# variables:
#   goVersion: '1.21'
#   golangciLintVersion: '1.55.2'
#   cgoEnabled: '0'

# -----------------------------------------------------------------------------
# Elixir Build Variables
# Variable Group: quckapp-ci-elixir
# -----------------------------------------------------------------------------
# variables:
#   elixirVersion: '1.15'
#   otpVersion: '26'
#   mixEnv: 'prod'

# -----------------------------------------------------------------------------
# Python Build Variables
# Variable Group: quckapp-ci-python
# -----------------------------------------------------------------------------
# variables:
#   pythonVersion: '3.11'
#   pipVersion: '23.3'
#   uvicornWorkers: '4'

# -----------------------------------------------------------------------------
# ACR Service Connection
# Create this service connection in Azure DevOps:
# Project Settings > Service connections > Docker Registry
# -----------------------------------------------------------------------------
# Service Connection:
#   - Name: quckapp-acr-connection
#   - Type: Azure Container Registry
#   - Registry: quckapp.azurecr.io
#   - Authentication: Service Principal or Managed Identity
#
# To create:
# 1. Go to Project Settings > Service connections
# 2. Click "New service connection"
# 3. Select "Docker Registry"
# 4. Select "Azure Container Registry"
# 5. Choose your subscription and ACR
# 6. Name it "quckapp-acr-connection"
# 7. Grant access to all pipelines

# =============================================================================
# AZURE KEY VAULT SECRETS MAPPING
# =============================================================================
# The following secrets should be stored in Azure Key Vault and linked to
# the variable groups above. Use the naming convention: ENV-SECRET-NAME
#
# Example Key Vault secrets:
#   - DEV-MONGODB-URI
#   - DEV-JWT-SECRET
#   - DEV-ENCRYPTION-KEY
#   - QA-MONGODB-URI
#   - STAGING-MONGODB-URI
#   - PROD-MONGODB-URI
#   - PROD-JWT-SECRET
#   - etc.
#
# To link Key Vault secrets to variable groups in Azure DevOps:
# 1. Go to Pipelines > Library > Variable groups
# 2. Create/Edit variable group
# 3. Enable "Link secrets from an Azure key vault as variables"
# 4. Select your Azure subscription and Key Vault
# 5. Add the required secrets

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
# 1. Create each variable group in Azure DevOps:
#    - Pipelines > Library > + Variable group
#
# 2. For each environment, create the corresponding variable group:
#
#    Application Variables:
#    - QuckApp-Global-Variables
#    - QuckApp-Local-Variables
#    - QuckApp-Variables
#    - QuckApp-QA-Variables
#    - QuckApp-UAT1-Variables
#    - QuckApp-UAT2-Variables
#    - QuckApp-UAT3-Variables
#    - QuckApp-Staging-Variables
#    - QuckApp-Live-Variables
#
#    Tech Stack Variables:
#    - QuckApp-SpringBoot-Variables
#    - QuckApp-NestJS-Variables
#    - QuckApp-Elixir-Variables
#    - QuckApp-Go-Variables
#    - QuckApp-Python-Variables
#
#    Terraform Infrastructure Variables:
#    - quckapp-terraform-common (required for all Terraform pipelines)
#    - quckapp-terraform-dev
#    - quckapp-terraform-qa
#    - quckapp-terraform-staging
#    - quckapp-terraform-prod
#
# 3. Link Azure Key Vault for sensitive values (passwords, keys, tokens)
#
# 4. Grant pipeline permissions to each variable group
